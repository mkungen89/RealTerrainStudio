# RealTerrain Studio - Backend Environment Variables
#
# INSTRUCTIONS:
# 1. Copy this file to .env
# 2. Fill in your actual values
# 3. NEVER commit .env to git!

# ============================================
# SUPABASE CONFIGURATION
# ============================================

# Your Supabase project URL
# Find in: Supabase Dashboard → Settings → API → Project URL
SUPABASE_URL=https://xxxxx.supabase.co

# Public anon key (safe to use in client applications)
# Find in: Supabase Dashboard → Settings → API → Project API keys → anon public
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Service role key (SECRET! Server-side only, bypasses RLS)
# Find in: Supabase Dashboard → Settings → API → Project API keys → service_role
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Database connection string (optional, for direct Postgres access)
# Find in: Supabase Dashboard → Settings → Database → Connection string
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.xxxxx.supabase.co:5432/postgres

# ============================================
# STRIPE CONFIGURATION
# ============================================

# Stripe Secret Key
# Find in: Stripe Dashboard → Developers → API keys
# Use test key for development: sk_test_...
# Use live key for production: sk_live_...
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here

# Stripe Publishable Key (safe to use in client)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

# Stripe Webhook Secret
# Find in: Stripe Dashboard → Developers → Webhooks
# Create webhook endpoint pointing to your Edge Function
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Product IDs (after creating products in Stripe)
STRIPE_PRODUCT_PRO_MONTHLY=price_xxxxx
STRIPE_PRODUCT_PRO_ANNUAL=price_xxxxx
STRIPE_PRODUCT_ENTERPRISE=price_xxxxx

# ============================================
# APPLICATION SETTINGS
# ============================================

# Environment: development, staging, production
NODE_ENV=development

# Application URL
APP_URL=http://localhost:3000

# API URL (for Edge Functions)
API_URL=http://localhost:54321

# ============================================
# LICENSING CONFIGURATION
# ============================================

# License key prefix (appears in all keys: RT-XXXX-XXXX-XXXX)
LICENSE_KEY_PREFIX=RT

# Default license duration (days)
LICENSE_DURATION_DAYS=365

# Free tier quota (km² per month)
FREE_TIER_QUOTA_KM2=10

# Maximum hardware activations per license
MAX_ACTIVATIONS_FREE=1
MAX_ACTIVATIONS_PRO=3
MAX_ACTIVATIONS_ENTERPRISE=10

# ============================================
# EMAIL CONFIGURATION (Optional)
# ============================================

# Supabase handles email by default, but you can use custom SMTP

# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# Email templates
# EMAIL_FROM=noreply@realterrainstudio.com
# EMAIL_FROM_NAME=RealTerrain Studio

# ============================================
# EXTERNAL API KEYS (for data sources)
# ============================================

# NASA EarthData (for SRTM)
# Register at: https://urs.earthdata.nasa.gov/
# EARTHDATA_USERNAME=your-username
# EARTHDATA_PASSWORD=your-password

# Sentinel Hub (for satellite imagery)
# Register at: https://www.sentinel-hub.com/
# SENTINEL_CLIENT_ID=your-client-id
# SENTINEL_CLIENT_SECRET=your-client-secret

# Mapbox (for basemaps - optional)
# MAPBOX_ACCESS_TOKEN=pk.xxxxx

# ============================================
# SECURITY
# ============================================

# JWT Secret (Supabase handles this, but for custom JWT)
# JWT_SECRET=your-super-secret-jwt-key

# Encryption key (for sensitive data)
# ENCRYPTION_KEY=your-32-character-encryption-key

# ============================================
# MONITORING & LOGGING (Optional)
# ============================================

# Sentry DSN (error tracking)
# SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Log level: debug, info, warn, error
LOG_LEVEL=info

# ============================================
# FEATURE FLAGS
# ============================================

# Enable/disable features
FEATURE_OSM_IMPORT=true
FEATURE_ADVANCED_MATERIALS=false
FEATURE_BATCH_PROCESSING=false

# ============================================
# NOTES
# ============================================

# - NEVER commit .env to git
# - Keep service_role key secret
# - Use test keys for development
# - Rotate keys regularly
# - Use different values for dev/staging/production
